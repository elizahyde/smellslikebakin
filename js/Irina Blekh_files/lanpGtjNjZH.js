/*!CK:501929440!*//*1394174763,178179377*/

if (self.CavalryLogger) { CavalryLogger.start_js(["ze7pk"]); }

__d("LitestandKeyboardController",["Arbiter","CSS","DOM","FeedBaseKeyboardController","LitestandMessages","Parent","csx","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(u){if(u.nextElementSibling)return u.nextElementSibling;u=u.nextSibling;while(u&&!i.isElementNode(u))u=u.nextSibling;return u||null;}function q(u){if(u.previousElementSibling)return u.previousElementSibling;u=u.previousSibling;while(u&&!i.isElementNode(u))u=u.previousSibling;return u||null;}for(var r in j)if(j.hasOwnProperty(r))t[r]=j[r];var s=j===null?null:j.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=j;function t(){"use strict";if(j!==null)j.apply(this,arguments);}t.prototype.init=function(){"use strict";s.init.call(this);this.subscriptions.addSubscriptions(g.subscribe(k.FILTER_SWITCH_BEGIN,this.onLeave.bind(this)));};t.prototype.getStories=function(u){"use strict";return i.scry(u||this.root,"div._6ns._5jmm");};t.prototype.getParentStory=function(u){"use strict";return l.byClass(u,"_6ns");};t.prototype.isStory=function(u){"use strict";return h.hasClass(u,"_6ns");};t.prototype.getHeadline=function(u){"use strict";return i.scry(u,"._6nl")[0];};t.prototype.clickLike=function(){"use strict";this.click("._6k6");};t.prototype.clickComment=function(){"use strict";this.click("._6k2");};t.prototype.clickShare=function(){"use strict";this.click("._6j_");};t.prototype.openAttachment=function(){"use strict";this.click("._5dec","a._52c6","._4-eo");};t.prototype.vert=function(u){"use strict";var v=this.selected&&i.scry(this.selected,"._31o");if(v){v=v.filter(h.shown);var w=i.scry(this.selected,"._31p")[0],x=v.indexOf(w),y=x+u;if(x>-1&&y>-1&&y<v.length){var z=g.inform('EntstreamHoverChange/selectTrigger',v[y]);if(z===false)return;}}s.vert.call(this,u);};t.prototype.isHoldoutStory=function(u){"use strict";return false;};t.prototype.getScrollOffset=function(){"use strict";return 5;};t.prototype.setSelected=function(u,v){"use strict";this.selected&&this.setTabindexOnHeadline(this.selected,'-1');this.selected&&h.removeClass(this.selected,"_5gxh");this.selected=u;u&&this.setTabindexOnHeadline(u,'0');u&&v&&h.addClass(u,"_5gxh");};t.prototype.getPreviousSibling=function(u){"use strict";var v=q(u);if(v&&this.getParentStory(v))return v;v=null;var w=l.byClass(u,"_6ly");if(w){var x=i.scry(w,"._6ns"),y=x.indexOf(u);if(y===0){v=o('pagelet_composer');v=v&&l.byClass(v,"_6ns");}else if(y>0)v=x[y-1];}return v||this.selected;};t.prototype.getPreviousStory=function(u){"use strict";var v=this.getPreviousSibling(u);while(v&&!this.isStory(v))v=this.getPreviousSibling(v);return v;};t.prototype.getNextSibling=function(u){"use strict";var v=p(u);if(v&&this.getParentStory(v))return v;v=null;var w=l.byClass(u,"_6ly");if(w){var x=i.scry(w,"._6ns"),y=x.indexOf(u);if(y>-1)v=x[y+1];}else if(o('pagelet_composer',u))v=i.scry(document,"div._6ly ._6ns")[0];return v||this.selected;};t.prototype.getNextStory=function(u){"use strict";var v=this.getNextSibling(u);while(v&&!this.isStory(v))v=this.getNextSibling(v);return v;};t.init=function(u){"use strict";new t(u);};e.exports=t;});
__d("LitestandViewportTracking",["Arbiter","DOM","DOMDimensions","LitestandMessages","LitestandStream","Parent","UserActivity","Vector","ViewportTracking","cx","getElementPosition","recordTNTreeData"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=51;for(var t in o)if(o.hasOwnProperty(t))v[t]=o[t];var u=o===null?null:o.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=o;function v(){"use strict";if(o!==null)o.apply(this,arguments);}v.prototype.init=function(w){"use strict";u.init.call(this,w);this.subscriptions.addSubscriptions(g.subscribe([j.STORIES_INSERTED,j.STORIES_REMOVED],function(){this.invalidateAllStoriesCache();this.updateTimeTrackingData(false);}.bind(this)),g.subscribe(j.NEWER_STORIES_INSERTED,function(){this.maxScrollPosition=0;if(m.isActive())this.fireTimer();}.bind(this)),g.subscribe(j.LEAVE_HOME,this.updateTimeTrackingData.bind(this,true)));};v.prototype.getDataFromConfig=function(w){"use strict";this.recordTNTree=w.record_tn_tree;this.timeout=w.record_delay;this.isTimetrackingEnabled=!!w.is_timetracking_enabled;};v.prototype.getTimeout=function(){"use strict";return this.timeout;};v.prototype.getAllStories=function(){"use strict";var w=h.scry(k.getStreamRoot(),k.getStoriesSelector());return w.filter(function(x){return x.getAttribute('data-ft');});};v.prototype._getStoryData=function(w){"use strict";return JSON.parse(w.getAttribute('data-ft'));};v.prototype.getStoryID=function(w){"use strict";return this._getStoryData(w).mf_story_key;};v.prototype.getDataToLog=function(w){"use strict";var x={};if(this.recordTNTree){var y=k.getStreamRoot();x=r(w,y);var z=w.getAttribute('data-insertion-position');if(z!==null)x.inspos=z;}var aa=h.scry(w,".fbStoryAttachmentImage")[0];if(aa){var ba=i.getElementDimensions(aa);x.story_image_height=ba.height;x.story_image_width=ba.width;}x.evt=s;return {ft:x};};v.prototype.isVisible=function(w){"use strict";var x=u.isVisible.call(this,w);if(!this.isLoose||x)return x;var y=l.byClass(w,"_4ikz");if(!y)return false;var z=n.getScrollPosition().y,aa=i.getViewportDimensions().height,ba=q(y).y,ca=i.getElementDimensions(y).height,da=aa+this.maxScrollPosition-z;return ba+ca<da;};e.exports={init:function(w){v.instance=new v();v.instance.init(w);},getInstance:function(){return v.instance;}};});
__d("LitestandComposerTitleTextReset",["CSS","DOM"],function(a,b,c,d,e,f,g,h){function i(j){g.hide(j.element);h.empty(j.element);}e.exports=i;});
__d("PubcontentLitestandFeedChainingController",["DOM","PubcontentFeedChainingController","csx"],function(a,b,c,d,e,f,g,h,i){for(var j in h)if(h.hasOwnProperty(j))l[j]=h[j];var k=h===null?null:h.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=h;function l(){"use strict";if(h!==null)h.apply(this,arguments);}l.prototype.findStory=function(m){"use strict";var n="^div._6ns",o=g.scry(m,n);return o.length===1?o[0]:null;};l.prototype.isSponsoredStory=function(m){"use strict";return false;};l.prototype.findContainer=function(m){"use strict";return m;};l.prototype.findStreamRoot=function(m){"use strict";return null;};l.prototype.findAdClientToken=function(m){"use strict";return null;};e.exports=l;new l();});